{% extends 'base.html.twig' %}

{% block title %} Пользователи {% endblock %}
{% block header %} Пользователи {% endblock %}
{% block body %}
	
	{% set sort1 = 'alpha_desc' %}
	{% set sort2 = 'since_asc' %}
	{% set sign1 = 'up' %}
	{% set sign2 = 'down' %}
	{% if sort == 'alpha_desc' %}
		{% set sort1 = 'alpha_asc' %}
		{% set sign1 = 'down' %}			
	{% endif %}
	{% if sort == 'since_asc' %}
		{% set sort2 = 'since_desc' %}
		{% set sign2 = 'up' %}			
	{% endif %}	
	<div class="users-panel-sort">
		Сортировать по <a href="{{ path('user_list', {'sort': sort1}) }}">алфавиту <i class="fa fa-chevron-{{ sign1 }}" aria-hidden="true"></i></a>
		| <a href="{{ path('user_list', {'sort': sort2}) }}">дате регистрации <i class="fa fa-chevron-{{ sign2 }}" aria-hidden="true"></i></a>
	</div>
	<div class="users">
	{% for user in users %}
		<div class="user">
			<div class="user-image">
				{% if user.image %}
					{% if imageProportions(user.image) %}
						{% set rotation = 'image-width' %}
					{% else %}
						{% set rotation = 'image-height' %}
					{% endif %}
					<div class="{{ rotation }}">
						<img src="{{ app.path }}/images/users/{{ user.image }}">
					</div>
				{% else %}
					<div class="image-height">
						<img src="{{ app.path }}/images/interface/no_user.png">				
					</div>
				{% endif %}
			</div>
			<div class="user-info">
				{% if user.username|length > 20 %}
					<div class="user-info-username-small">{{ user.username }}
				{% else %}
					<div class="user-info-username">{{ user.username }}
				{% endif %}
				</div>
				<div class="user-info-other">
				since: {{ user.created_at|date('d.m.Y') }}<br>
				shirt number: -
				</div>
			</div>
		</div>
	{% endfor %}
	</div>

{% endblock %}